@tailwind base;
@tailwind components;
@tailwind utilities;

.bg-nano-pattern {
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
}

@layer base {
  :root {
    --font-size: 16px;

    /* ===== TYPOGRAPHY TOKENS ===== */
    /* Font Families */
    --font-primary:
      "Poppins", "Inter", system-ui, -apple-system, "Segoe UI", Roboto,
      "Helvetica Neue", Arial, sans-serif;
    --font-mono:
      ui-monospace, "SF Mono", "Cascadia Code", "Source Code Pro", Menlo,
      Consolas, monospace;

    /* Font Weights */
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;

    /* Font Sizes - Neurodivergent-friendly scale */
    --text-xs: 0.75rem; /* 12px */
    --text-sm: 0.875rem; /* 14px */
    --text-base: 1rem; /* 16px */
    --text-lg: 1.125rem; /* 18px */
    --text-xl: 1.25rem; /* 20px */
    --text-2xl: 1.5rem; /* 24px */
    --text-3xl: 1.875rem; /* 30px */
    --text-4xl: 2.25rem; /* 36px */
    --text-5xl: 3rem; /* 48px */
    --text-6xl: 3.75rem; /* 60px */
    --text-7xl: 4.5rem; /* 72px */
    --text-8xl: 6rem; /* 96px */

    /* Line Heights - Optimized for readability */
    --line-height-none: 1;
    --line-height-tight: 1.25;
    --line-height-snug: 1.375;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.625;
    --line-height-loose: 2;

    /* Letter Spacing - Poppins-optimized */
    --letter-spacing-tighter: -0.05em;
    --letter-spacing-tight: -0.025em;
    --letter-spacing-normal: 0;
    --letter-spacing-wide: 0.025em;
    --letter-spacing-wider: 0.05em;
    --letter-spacing-widest: 0.1em;

    /* Max Width for Reading - Neurodivergent-friendly */
    --max-width-reading: 65ch;
    --max-width-reading-narrow: 50ch;
    --max-width-reading-wide: 75ch;

    /* ===== COLOR TOKENS ===== */
    /* Base colors - Light theme */
    --background: hsl(0 0% 100%);
    --foreground: hsl(222.2 84% 4.9%);
    --card: hsl(0 0% 100%);
    --card-foreground: hsl(222.2 84% 4.9%);
    --popover: hsl(0 0% 100%);
    --popover-foreground: hsl(222.2 84% 4.9%);
    --primary: hsl(222.2 47.4% 11.2%);
    --primary-foreground: hsl(210 40% 98%);
    --secondary: hsl(210 40% 96.1%);
    --secondary-foreground: hsl(222.2 47.4% 11.2%);
    --muted: hsl(210 40% 96.1%);
    --muted-foreground: hsl(215.4 16.3% 46.9%);
    --accent: hsl(210 40% 96.1%);
    --accent-foreground: hsl(222.2 47.4% 11.2%);
    --destructive: hsl(0 84.2% 60.2%);
    --destructive-foreground: hsl(210 40% 98%);
    --border: hsl(214.3 31.8% 91.4%);
    --input: hsl(214.3 31.8% 91.4%);
    --ring: hsl(222.2 84% 4.9%);
    --radius: 0.5rem;

    /* Cinematic brand colors */
    --cyan: oklch(0.75 0.13 210);
    --cyan-light: oklch(0.85 0.1 210);
    --cyan-dark: oklch(0.55 0.15 210);
    --mint: oklch(0.8 0.12 160);
    --mint-light: oklch(0.9 0.08 160);
    --mint-dark: oklch(0.6 0.14 160);

    /* Glass effect tokens */
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.3);
    --glass-blur: 24px;
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);

    /* Surface tokens */
    --surface-elevated: #ffffff;
    --surface-base: #fafafa;
    --surface-sunken: #f5f5f5;

    /* ===== GRADIENT TOKENS ===== */
    --gradient-mesh-1:
      radial-gradient(at 0% 0%, oklch(0.85 0.1 210 / 0.3) 0px, transparent 50%),
      radial-gradient(
        at 100% 100%,
        oklch(0.8 0.12 160 / 0.25) 0px,
        transparent 50%
      );
    --gradient-mesh-2:
      radial-gradient(
        at 50% 0%,
        oklch(0.85 0.1 210 / 0.2) 0px,
        transparent 60%
      ),
      radial-gradient(
        at 0% 100%,
        oklch(0.8 0.12 160 / 0.15) 0px,
        transparent 50%
      );
    --gradient-linear-cyan: linear-gradient(
      135deg,
      oklch(0.75 0.13 210),
      oklch(0.85 0.1 210)
    );
    --gradient-linear-mint: linear-gradient(
      135deg,
      oklch(0.8 0.12 160),
      oklch(0.9 0.08 160)
    );
    --gradient-linear-accent: linear-gradient(
      135deg,
      oklch(0.75 0.13 210),
      oklch(0.8 0.12 160)
    );

    /* ===== SHADOW TOKENS ===== */
    --shadow-glow-cyan: 0 0 40px oklch(0.75 0.13 210 / 0.2);
    --shadow-glow-mint: 0 0 40px oklch(0.8 0.12 160 / 0.2);
  }

  .dark {
    /* Base colors - Dark theme (Neural "Black and Shades") */
    --background: hsl(0 0% 0%);
    --foreground: hsl(0 0% 98%);
    --card: hsl(0 0% 4%);
    --card-foreground: hsl(0 0% 98%);
    --popover: hsl(0 0% 4%);
    --popover-foreground: hsl(0 0% 98%);
    --primary: hsl(0 0% 98%);
    --primary-foreground: hsl(0 0% 9%);
    --secondary: hsl(0 0% 9%);
    --secondary-foreground: hsl(0 0% 98%);
    --muted: hsl(0 0% 9%);
    --muted-foreground: hsl(0 0% 63.9%);
    --accent: hsl(0 0% 9%);
    --accent-foreground: hsl(0 0% 98%);
    --destructive: hsl(0 62.8% 30.6%);
    --destructive-foreground: hsl(0 0% 98%);
    --border: hsl(0 0% 14.9%);
    --input: hsl(0 0% 14.9%);
    --ring: hsl(0 0% 83.1%);

    /* Cinematic brand colors - Restored */
    --cyan: oklch(0.7 0.15 210);
    --cyan-light: oklch(0.8 0.12 210);
    --cyan-dark: oklch(0.5 0.17 210);
    --mint: oklch(0.75 0.14 160);
    --mint-light: oklch(0.85 0.1 160);
    --mint-dark: oklch(0.55 0.16 160);

    /* Glass effect tokens - Dark theme */
    --glass-bg: rgba(0, 0, 0, 0.7);
    --glass-border: rgba(255, 255, 255, 0.1);

    /* Surface tokens - Dark theme */
    --surface-elevated: oklch(0.18 0 0);
    --surface-base: oklch(0.1 0 0);
    --surface-sunken: oklch(0.08 0 0);

    /* Gradients - Restored */
    --gradient-mesh-1:
      radial-gradient(
        at 0% 0%,
        oklch(0.7 0.15 210 / 0.25) 0px,
        transparent 50%
      ),
      radial-gradient(
        at 100% 100%,
        oklch(0.75 0.14 160 / 0.2) 0px,
        transparent 50%
      );
    --gradient-mesh-2:
      radial-gradient(
        at 50% 0%,
        oklch(0.7 0.15 210 / 0.15) 0px,
        transparent 60%
      ),
      radial-gradient(
        at 0% 100%,
        oklch(0.75 0.14 160 / 0.12) 0px,
        transparent 50%
      );
    --gradient-linear-cyan: linear-gradient(
      135deg,
      oklch(0.7 0.15 210),
      oklch(0.8 0.12 210)
    );
    --gradient-linear-mint: linear-gradient(
      135deg,
      oklch(0.75 0.14 160),
      oklch(0.85 0.1 160)
    );
    --gradient-linear-accent: linear-gradient(
      135deg,
      oklch(0.7 0.15 210),
      oklch(0.75 0.14 160)
    );

    /* Shadows - Restored */
    --shadow-glow-cyan: 0 0 60px oklch(0.7 0.15 210 / 0.3);
    --shadow-glow-mint: 0 0 60px oklch(0.75 0.14 160 / 0.3);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-primary);
    font-size: var(--text-base);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-relaxed);
    letter-spacing: var(--letter-spacing-normal);
  }

  /* Typography Hierarchy */
  h1 {
    font-family: var(--font-primary);
    font-size: var(--text-5xl);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    letter-spacing: var(--letter-spacing-tight);
  }
  h2 {
    font-size: var(--text-4xl);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-tight);
  }
  h3 {
    font-size: var(--text-2xl);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-snug);
  }
  p {
    max-width: var(--max-width-reading);
  }
}

@layer utilities {
  .squircle {
    mask-image: url("data:image/svg+xml,%3csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M100,0 C20,0 0,20 0,100 C0,180 20,200 100,200 C180,200 200,180 200,100 C200,20 180,0 100,0 Z'/%3e%3c/svg%3e");
    mask-size: 100% 100%;
    mask-repeat: no-repeat;
    mask-position: center;
  }

  .fix-safari-rounding {
    -webkit-mask-image: -webkit-radial-gradient(white, black);
  }

  /* Text gradient utility */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-cyan-500 to-emerald-500;
  }

  /* Glass utilities */
  .glass-1 {
    @apply bg-white/5 backdrop-blur-lg border border-white/10 dark:bg-black/20 dark:border-white/5;
  }
  .glass-2 {
    @apply bg-white/10 backdrop-blur-xl border border-white/20 dark:bg-black/40 dark:border-white/10;
  }
  .glass-3 {
    @apply bg-white/20 backdrop-blur-2xl border border-white/30 dark:bg-black/60 dark:border-white/10;
  }

  /* Pillar card glow â€” neutral grey, no color flicker */
  .pillar-card {
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.05),
                0 0 30px rgba(255, 255, 255, 0.02);
  }
  .pillar-card:hover {
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.12),
                0 0 40px rgba(255, 255, 255, 0.06);
  }
}

/* ===== PREMIUM ANIMATIONS ===== */

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-12px); }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0.4; filter: blur(40px); }
  50% { opacity: 0.8; filter: blur(60px); }
}

@keyframes shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 4s ease-in-out infinite;
}

.animate-shimmer {
  background-size: 200% auto;
  animation: shimmer 3s linear infinite;
}

.animate-spin-slow {
  animation: spin-slow 20s linear infinite;
}

.animate-gradient-shift {
  background-size: 200% 200%;
  animation: gradient-shift 5s ease-in-out infinite;
}
